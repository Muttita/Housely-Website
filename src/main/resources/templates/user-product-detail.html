<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Product Details</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Prompt', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Prompt', sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body class="bg-gray-100">
    <nav class="bg-white shadow-lg">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex justify-between">
                <div class="flex space-x-7">
                    <div>
                        <a href="#" class="flex items-center py-4 px-2">
                            <span class="font-semibold text-gray-500 text-lg">Housely</span>
                        </a>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-3">
                    <a href="/user/product" class="py-4 px-2 text-gray-500 font-semibold hover:text-blue-500 transition duration-300">สินค้า</a>
                    <select class="py-2 px-2 text-gray-500 font-semibold bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500" onchange="location = this.value; showSelectedRoom(this);">
                        <option value="">เลือกหมวดหมู่</option>
                        <option th:each="cate : ${categorys}" 
                                th:value="@{/user/product/category/{id}(id=${cate.categoryId})}" 
                                th:text="${cate.categoryName}"></option>
                    </select>
                    <select class="py-2 px-2 text-gray-500 font-semibold bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500" onchange="location = this.value; showSelectedRoom(this);">
                        <option value="">เลือกห้อง</option>
                        <option th:each="room : ${rooms}" 
                                th:value="@{/user/product/room/{id}(id=${room.id})}" 
                                th:text="${room.roomName}"></option>
                    </select>
                    <a href="/user/orders" class="py-4 px-2 text-gray-500 font-semibold hover:text-blue-500 transition duration-300">คำสั่งซื้อ</a>
                    <a href="/user/profile" class="py-4 px-2 text-gray-500 font-semibold hover:text-blue-500 transition duration-300">โปรไฟล์</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden">
            <div class="md:flex">
                <div class="md:flex-shrink-0">
                    <img class="h-48 w-full object-cover md:w-48" th:src="@{'/uploads/' + ${product.imageBase64}}" alt="Product Image">
                </div>
                <div class="p-8">
                    <div class="uppercase tracking-wide text-sm text-indigo-500 font-semibold" th:text="${product.brandName}"></div>
                    <h1 class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl" th:text="${product.productName}"></h1>
                    <p class="mt-2 text-3xl text-gray-500" th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 2, 'POINT')} + ' บาท'"></p>
                    <p class="mt-4 text-gray-500" th:text="${product.description}"></p>
                    
                    <div class="mt-6">
                        <div class="flex items-center">
                            <span class="mr-3 text-gray-700">จำนวน:</span>
                            <div class="flex items-center border border-gray-300 rounded">
                                <button onclick="decreaseQuantity()" class="px-3 py-1 bg-gray-200 text-gray-600 hover:bg-gray-300 focus:outline-none">-</button>
                                <span id="quantity" class="px-3 py-1">1</span>
                                <button onclick="increaseQuantity()" class="px-3 py-1 bg-gray-200 text-gray-600 hover:bg-gray-300 focus:outline-none">+</button>
                            </div>
                        </div>
                        <div class="flex mt-6 items-center pb-5 border-b-2 border-gray-100 mb-5"></div>
                        <div class="flex">
                            <button class="flex-1 text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded">เพิ่มลงตะกร้า</button>
                            <button class="flex-1 ml-4 text-white bg-green-500 border-0 py-2 px-6 focus:outline-none hover:bg-green-600 rounded">ซื้อเลย</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let quantity = 1;
        const quantityElement = document.getElementById('quantity');

        function increaseQuantity() {
            quantity++;
            updateQuantityDisplay();
        }

        function decreaseQuantity() {
            if (quantity > 1) {
                quantity--;
                updateQuantityDisplay();
            }
        }

        function updateQuantityDisplay() {
            quantityElement.textContent = quantity;
        }
    </script>
</body>
</html>